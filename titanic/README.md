# Titanic 生存予測（進め方メモ）

このフォルダは、Titanic データ（`train.csv` / `test.csv`）から **「生存するか（0/1）」** を予測し、提出用の CSV（`gender_submission.csv` 形式）を作るための作業場所です。

## ゴール

- `data/train.csv`（正解つき）で学習
- `data/test.csv`（正解なし）を予測
- `data/gender_submission.csv` と同じ形式（`PassengerId,Survived`）で結果を保存

## 進め方（初心者向け・おすすめ手順）

ポイントは「**比べながら進める**」ことです。  
いきなり難しいことはせず、まずは“ちゃんと動く”基準を作ってから改善します。

### 1) データを 8:2 に分ける（学習用 / 確認用）

- `train.csv` の中身を **ランダムに** 8:2 に分割します
  - **学習用（8割）**: 予測のルールを作るために使う
  - **確認用（2割）**: 作ったルールが「初めて見るデータでも当たるか」を確かめるために使う
- できれば、8割と2割で **生存(1) / 死亡(0) の割合がだいたい同じ** になるように分けます
- **重要**: この 8:2 の分け方は、後の比較（補完A/Bやモデル比較）でも **固定** します  
  （毎回分け直すと、違いの原因が分からなくなるため）

### 2) データ準備（欠損を埋める）を 2パターン作る

欠損（空欄）がある列を埋めないと、予測の仕組みがうまく動かないことが多いです。  
ここでは「簡単な埋め方」と「理由のある埋め方」を比べます。

- **補完パターンA（最低限）**
  - 年齢などの空欄を、ざっくり代表値（例: 中央値）で埋める
  - さらに可能なら「年齢が空だったかどうか」の印（0/1）を追加する
- **補完パターンB（理由付け）**
  - 例: `Sex` や `Pclass` などでグループ分けし、グループごとの代表値で年齢を埋める
  - 「同じような人は年齢も近いはず」という考え方を使う

> 注意: 代表値（中央値など）を決めるときは **学習用（8割）だけ** を使います。  
> 確認用（2割）や `test.csv` の情報を混ぜないようにします。

### 3) まずは単純な方法で当てる（基準づくり）

- 補完パターンAを使って、**単純な予測方法**で学習→確認（2割）で当たり具合を見る
- ここでの目的は、まず「最後まで一通り動く」ことと、「基準の点数」を作ることです

### 4) もう少し賢い方法（GBDT）で当てる

- 補完パターンAのまま、**GBDT** を使って学習→確認（2割）で当たり具合を見る
- 3) の単純モデルと比べて良くなるかを確認します

### 5) 補完パターンB（理由付け）でも同じ比較をする

- 2)で作った補完パターンBを使って、以下を同じ条件で実行します
  - 単純モデル → 確認（2割）
  - GBDT → 確認（2割）

### 6) 一番良かった組み合わせで `test.csv` を予測し、提出用CSVを作る

- 「補完A/B × モデル（単純/GBDT）」の中で、確認（2割）で最も良かったものを採用
- それで `test.csv` を予測して、`PassengerId` と `Survived(0/1)` の2列CSVを出力します

## 参考: まず使いやすい列（最初の一周でおすすめ）

最初は扱いやすい列だけで十分進められます。

- 使う候補: `Pclass`, `Sex`, `Age`, `SibSp`, `Parch`, `Fare`, `Embarked`
- いったん無視してOK: `Name`, `Ticket`, `Cabin`
  - 理由: そのままだと扱いが難しい／空欄が多い／工夫が必要（後で伸ばす余地）

## ファイル構成

- `data/train.csv`: 学習用（正解 `Survived` あり）
- `data/test.csv`: 予測対象（正解なし）
- `data/gender_submission.csv`: 提出形式の例（この形式で結果を出す）

